// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client"
  output   = "../src/generated/prisma"
}

datasource db {
  provider = "sqlite"
}

model Release {
  id          String   @id @default(cuid())
  name        String   // "GPT-5", "Claude Code 1.0"
  company     String   // "OpenAI", "Anthropic"
  category    String   // "model" or "tool"
  releaseDate DateTime
  summary     String   // one-line description
  features    String   // key features (JSON or markdown)
  pricing     String?  // pricing info
  docsUrl     String   // official docs link
  sourceUrl   String   // where we found the announcement
  createdAt   DateTime @default(now())
  reviews     Review[]
}

model Review {
  id        String   @id @default(cuid())
  releaseId String
  release   Release  @relation(fields: [releaseId], references: [id], onDelete: Cascade)
  source    String   // "reddit", "x", "youtube", "blog"
  author    String?  // username or author name
  content   String   // the review/comment text
  sentiment String   // "positive", "neutral", "negative"
  sourceUrl String   // link to original
  createdAt DateTime @default(now())
}

model ScraperSource {
  id        String   @id @default(cuid())
  type      String   // "reddit", "rss", "blog"
  name      String   // Display name, e.g., "r/LocalLLaMA", "Anthropic Blog"
  url       String   // The URL to scrape or subreddit URL
  company   String?  // Associated company for blog sources
  enabled   Boolean  @default(true)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}
